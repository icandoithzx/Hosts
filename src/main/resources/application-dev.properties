# 开发环境配置

# 应用名称
spring.application.name=hosts-management-dev

# 服务器端口
server.port=8080

# 日志配置
logging.config=classpath:logback-spring.xml
logging.level.com.example.demo=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.com.baomidou.mybatisplus=DEBUG

# 数据库配置 - H2内存数据库（开发环境）
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# 连接池配置 - 开发环境优化
spring.datasource.hikari.minimum-idle=3
spring.datasource.hikari.maximum-pool-size=15
spring.datasource.hikari.idle-timeout=60000
spring.datasource.hikari.max-lifetime=300000
spring.datasource.hikari.connection-timeout=5000
spring.datasource.hikari.validation-timeout=2000
spring.datasource.hikari.leak-detection-threshold=30000
spring.datasource.hikari.connection-test-query=SELECT 1

# H2数据库性能优化
spring.datasource.hikari.cache-prep-stmts=true
spring.datasource.hikari.prep-stmt-cache-size=250
spring.datasource.hikari.prep-stmt-cache-sql-limit=2048

# H2控制台启用
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Redis配置
# spring.redis.host=localhost
# spring.redis.port=6379
# spring.redis.timeout=2000ms
# spring.redis.jedis.pool.max-active=8
# spring.redis.jedis.pool.max-idle=8
# spring.redis.jedis.pool.min-idle=0

# 数据库初始化
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.data-locations=classpath:data.sql

# MyBatis Plus配置
mybatis-plus.mapper-locations=classpath*:/mapper/**/*.xml
mybatis-plus.type-aliases-package=com.example.demo.model.entity
mybatis-plus.configuration.map-underscore-to-camel-case=true
mybatis-plus.configuration.cache-enabled=false

# 外部API配置
external.organization.api.url=http://localhost:9999/api/organizations
external.organization.sync.enabled=true

# 用户同步配置
external.user.api.url=http://localhost:9999/api/users
external.user.sync.enabled=true

# AI模型API配置
ai.model.api.ip=127.0.0.1
ai.model.api.port=8000